# Flow การทำงานในแต่ละส่วนของระบบ

## ภาพรวมของ Flow การทำงาน

ระบบ E-learning นี้มีโครงสร้างที่ชัดเจนและมี Flow การทำงานที่เป็นระบบ ซึ่งช่วยให้ผู้ใช้งานสามารถเข้าถึงข้อมูลและเรียนรู้ได้อย่างมีประสิทธิภาพ

## Flow การทำงานของแต่ละส่วน

### 1. Home Page (หน้าแรก)

#### Flow การทำงาน:
1. **เริ่มต้นระบบ**
   - ผู้ใช้เข้าสู่เว็บไซต์ที่ URL หลัก
   - ระบบโหลด [page.tsx](file:///c:/Users/Earth/Desktop/CSMJU_Elearning/csmju-learning/src/app/page.tsx) ในโฟลเดอร์ app

2. **ตรวจสอบ Theme**
   - ระบบตรวจสอบการตั้งค่าธีมจาก localStorage
   - หากไม่มีการตั้งค่า ระบบจะใช้ธีม Light เป็นค่าเริ่มต้น

3. **โหลดข้อมูล**
   - ดึงข้อมูลคอร์สจาก [curriculum.ts](file:///c:/Users/Earth/Desktop/CSMJU_Elearning/csmju-learning/src/data/curriculum.ts)
   - ดึงข้อมูลภาษาจาก [LanguageContext.tsx](file:///c:/Users/Earth/Desktop/CSMJU_Elearning/csmju-learning/src/contexts/LanguageContext.tsx)

4. **แสดงผลเนื้อหา**
   - แสดงวิดีโอพื้นหลัง
   - แสดงข้อความแนะนำเว็บไซต์
   - แสดงปุ่มทักษะ
   - แสดงคอร์สแนะนำ (GitHub และ Docker)
   - แสดงข้อมูลอาจารย์

5. **การตอบสนองต่อผู้ใช้**
   - ผู้ใช้สามารถเปลี่ยนภาษาผ่านปุ่ม Language Switch
   - ผู้ใช้สามารถเปลี่ยนธีมผ่านปุ่ม Dark Mode Toggle
   - ผู้ใช้สามารถคลิกที่คอร์สเพื่อดูรายละเอียดได้

### 2. Admin Page (หน้าผู้ดูแลระบบ)

#### Flow การทำงาน:
1. **ตรวจสอบสิทธิ์**
   - ผู้ใช้เข้าสู่หน้า /admin
   - ระบบตรวจสอบสิทธิ์การเข้าถึง (ในเวอร์ชันปัจจุบันเป็น mock data)

2. **แสดง Dashboard**
   - แสดงสถิติโดยรวมของระบบ
   - แสดง Quick Actions สำหรับการจัดการ

3. **จัดการแท็บต่างๆ**
   - เมื่อผู้ใช้คลิกที่แท็บต่างๆ จะแสดงเนื้อหาตามแท็บนั้น:
     * Dashboard: แสดงสถิติ
     * Courses: แสดงรายการคอร์ส
     * Users: แสดงรายการผู้ใช้งาน
     * Settings: แสดงการตั้งค่าระบบ

4. **การจัดการข้อมูล**
   - ผู้ดูแลสามารถเพิ่ม แก้ไข หรือลบข้อมูลได้
   - ระบบจะแสดงผลการดำเนินการทันที

### 3. Courses Page (หน้าคอร์สเรียน)

#### Flow การทำงาน:
1. **โหลดหน้าเว็บ**
   - ผู้ใช้เข้าสู่หน้า /courses
   - ระบบโหลด [page.tsx](file:///c:/Users/Earth/Desktop/CSMJU_Elearning/csmju-learning/src/app/courses/page.tsx) ในโฟลเดอร์ courses

2. **ดึงข้อมูลคอร์ส**
   - ดึงข้อมูลคอร์สทั้งหมดจาก [curriculum.ts](file:///c:/Users/Earth/Desktop/CSMJU_Elearning/csmju-learning/src/data/curriculum.ts)

3. **แสดงตัวกรอง**
   - แสดงตัวกรองตามปี เทอม และระดับความยาก
   - ผู้ใช้สามารถเลือกตัวกรองได้

4. **กรองข้อมูล**
   - เมื่อผู้ใช้เลือกตัวกรอง ระบบจะกรองข้อมูลแบบเรียลไทม์
   - แสดงสถิติที่อัปเดตตามตัวกรอง

5. **จัดกลุ่มคอร์ส**
   - จัดกลุ่มคอร์สตามปีและเทอม
   - แสดงคอร์สในแต่ละกลุ่ม

6. **แสดงคอร์ส**
   - แสดงคอร์สในรูปแบบการ์ด
   - ผู้ใช้สามารถคลิก "เริ่มเรียน" เพื่อไปยังหน้ารายละเอียดคอร์สได้

### 4. Course Detail Page (หน้ารายละเอียดคอร์ส)

#### Flow การทำงาน:
1. **โหลดหน้าเว็บ**
   - ผู้ใช้เข้าสู่หน้า /courses/[id]
   - ระบบโหลด [page.tsx](file:///c:/Users/Earth/Desktop/CSMJU_Elearning/csmju-learning/src/app/courses/%5Bid%5D/page.tsx) ในโฟลเดอร์ courses/[id]

2. **ดึงข้อมูลคอร์ส**
   - ดึงข้อมูลคอร์สตาม id จาก URL
   - แสดงข้อมูลรายละเอียดของคอร์สนั้นๆ

3. **แสดงเนื้อหา**
   - แสดงข้อมูลพื้นฐานของคอร์ส
   - แสดงคำอธิบายรายวิชา
   - แสดงจุดประสงค์การเรียนรู้
   - แสดงหัวข้อที่เรียน
   - แสดงวิชาที่ต้องเรียนก่อน
   - แสดงเครื่องมือที่ใช้

4. **แสดงเนื้อหาคอร์ส (Sidebar)**
   - แสดงเนื้อหาคอร์สในรูปแบบพาร์ทต่างๆ
   - แสดงความคืบหน้าของการเรียน

5. **การนำทาง**
   - ผู้ใช้สามารถกลับไปยังหน้าคอร์สทั้งหมดได้
   - ผู้ใช้สามารถคลิก "เริ่มเรียน" เพื่อไปยังหน้าวิดีโอได้

### 5. Language Switch (ปุ่มแปลภาษา)

#### Flow การทำงาน:
1. **เริ่มต้น**
   - ปุ่มจะแสดงภาษาไทยเป็นค่าเริ่มต้น
   - ตรวจสอบการตั้งค่าภาษาจาก Context

2. **การเปลี่ยนภาษา**
   - เมื่อผู้ใช้คลิกที่ปุ่ม ระบบจะเปลี่ยนภาษาทันที
   - อัปเดตสถานะใน [LanguageContext.tsx](file:///c:/Users/Earth/Desktop/CSMJU_Elearning/csmju-learning/src/contexts/LanguageContext.tsx)
   - ทุกข้อความในเว็บไซต์จะเปลี่ยนตามภาษาที่เลือก

3. **การแสดงผล**
   - ปุ่มจะแสดงภาษาที่เลือกในปัจจุบัน
   - มี Animation ในการเปลี่ยนภาษา

### 6. Dark Mode Toggle (ปุ่มเปลี่ยนธีม)

#### Flow การทำงาน:
1. **เริ่มต้น**
   - ตรวจสอบการตั้งค่าธีมจาก localStorage
   - หากไม่มีการตั้งค่า ระบบจะใช้ธีม Light เป็นค่าเริ่มต้น

2. **การเปลี่ยนธีม**
   - เมื่อผู้ใช้คลิกที่ปุ่ม ระบบจะเปลี่ยนธีมทันที
   - อัปเดต Attribute ของ HTML element
   - บันทึกการตั้งค่าไว้ใน localStorage

3. **การแสดงผล**
   - ปุ่มจะแสดงธีมที่เลือกในปัจจุบัน
   - มี Animation และ Effects ในการเปลี่ยนธีม

## Flow การทำงานของระบบโดยรวม

### 1. การเริ่มต้นระบบ
1. ผู้ใช้เข้าสู่เว็บไซต์
2. ระบบโหลด Layout หลักจาก [layout.tsx](file:///c:/Users/Earth/Desktop/CSMJU_Elearning/csmju-learning/src/app/layout.tsx)
3. โหลด Navbar และ Footer
4. โหลดหน้าที่ผู้ใช้ร้องขอ

### 2. การจัดการ State
1. ใช้ React Context สำหรับการจัดการภาษาและธีม
2. ใช้ React State สำหรับการจัดการ UI State ต่างๆ
3. ใช้ localStorage สำหรับการบันทึกการตั้งค่าของผู้ใช้

### 3. การตอบสนองต่อผู้ใช้
1. ทุกการกระทำของผู้ใช้จะได้รับการตอบสนองทันที
2. ระบบจะอัปเดต UI ตามการกระทำของผู้ใช้
3. ข้อมูลจะถูกโหลดและแสดงผลแบบเรียลไทม์

### 4. การนำทาง
1. ใช้ Next.js Link สำหรับการนำทางภายใน
2. ใช้ Dynamic Routes สำหรับหน้าที่มีพารามิเตอร์
3. ระบบจะโหลดหน้าใหม่โดยไม่ต้องรีเฟรชทั้งหน้า

## ประโยชน์ของ Flow การทำงานที่ชัดเจน

1. **ประสบการณ์ผู้ใช้ที่ดี**
   - ผู้ใช้สามารถใช้งานเว็บไซต์ได้อย่างง่ายดาย
   - การตอบสนองที่รวดเร็ว

2. **การบำรุงรักษาที่ง่าย**
   - โค้ดมีโครงสร้างที่ชัดเจน
   - ง่ายต่อการปรับปรุงและแก้ไข

3. **ความสามารถในการปรับขนาด**
   - ระบบสามารถขยายเพิ่มฟีเจอร์ใหม่ได้ง่าย
   - โครงสร้างที่เป็นระบบช่วยให้การพัฒนาใหม่มีประสิทธิภาพ